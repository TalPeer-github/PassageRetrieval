characters_by_chapter = {
    "Chapter One: The Boy Who Lived": [
        "Vernon Dursley", "Petunia Dursley", "Dudley Dursley", "Lily Potter",
        "James Potter", "Harry Potter", "Violet-cloaked wizard", "Lord Voldemort",
        "Jim McGuffin", "Ted", "Vernon Dursley's secretary", "Albus Dumbledore",
        "Minerva McGonagall", "Dedalus Diggle", "Poppy Pomfrey", "Rubeus Hagrid", "Sirius Black"
    ],
    "Chapter Two: The Vanishing Glass": [
        "Marge Dursley", "Arabella Figg", "Tibbles", "Snowy", "Mr Paws", "Tufty",
        "Yvonne", "Piers Polkiss", "Piers Polkiss's mother", "Keeper of the reptile house",
        "Zoo director", "A boa constrictor", "A gorilla"
    ],
    "Chapter Three: Letters from No One": [
        "Dennis", "Malcolm", "Gordon", "Dudley's parrot", "Dudley's tortoise",
        "Owner of the Railview Hotel", "Rowboat owner"
    ],
    "Chapter Four: Keeper of the Keys": [
        "Merlin", "Mr Evans", "Mrs Evans", "McKinnon family", "Bones family", "Prewett family"
    ],
    "Chapter Five: Diagon Alley": [
        "Cornelius Fudge", "Miranda Goshawk", "Bathilda Bagshot", "Adalbert Waffling",
        "Emeric Switch", "Phyllida Spore", "Arsenus Jigger", "Newton Scamander",
        "Quentin Trimble", "Tom", "Doris Crockford", "Quirinus Quirrell",
        "Gringotts Head Goblin", "Griphook", "Madam Malkin", "Draco Malfoy",
        "Lucius Malfoy", "Narcissa Malfoy", "Vindictus Viridian", "Hedwig", "Garrick Ollivander"
    ],
    "Chapter Six: The Journey from Platform Nine and Three-Quarters": [
        "King's Cross Station guard", "Ginny Weasley", "Molly Weasley", "Percy Weasley",
        "Fred Weasley", "George Weasley", "Ron Weasley", "Neville Longbottom",
        "Augusta Longbottom", "Lee Jordan", "Lee Jordan's tarantula", "Bill Weasley",
        "Charlie Weasley", "Arthur Weasley", "Peter Pettigrew", "Trolley witch",
        "Cornelius Agrippa", "Claudius Ptolemy", "Gellert Grindelwald", "Nicolas Flamel",
        "Morgan le Fay", "Hengist of Woodcroft", "Alberic Grunnion", "Circe", "Paracelsus",
        "Cliodna", "Bertie Bott", "Trevor", "Hermione Granger", "Vincent Crabbe",
        "Gregory Goyle", "Hogwarts Express conductor", "Hermes"
    ],
    "Chapter Seven: The Sorting Hat": [
        "Fat Friar", "Peeves", "Sorting Hat", "Hannah Abbott", "Susan Bones",
        "Terry Boot", "Mandy Brocklehurst", "Lavender Brown", "Millicent Bulstrode",
        "Justin Finch-Fletchley", "Seamus Finnigan", "Morag MacDougal", "Lily Moon",
        "Theodore Nott", "Pansy Parkinson", "Padma Patil", "Parvati Patil", "Sally-Anne Perks",
        "Dean Thomas", "Lisa Turpin", "Blaise Zabini", "Nearly-Headless Nick", "Bloody Baron",
        "Mr Finnigan", "Mrs Finnigan", "Algie", "Enid", "Severus Snape", "Argus Filch",
        "Rolanda Hooch", "Fat Lady"
    ],
    "Chapter Eight: The Potions Master": [
        "Mrs Norris", "Pomona Sprout", "Cuthbert Binns", "Emeric the Evil", "Uric the Oddball",
        "Filius Flitwick", "Fang"
    ],
    "Chapter Nine: The Midnight Duel": [
        "Oliver Wood", "Helena Ravenclaw", "Draco Malfoy's eagle owl", "Gregory the Smarmy", "Fluffy"
    ],
    "Chapter Ten: Hallowe'en": [
        "Baruffio", "Quirinus Quirrell's first mountain troll"
    ],
    "Chapter Eleven: Quidditch": [
        "Angelina Johnson", "Marcus Flint", "Alicia Spinnet", "Katie Bell", "Miles Bletchley",
        "Adrian Pucey", "Terence Higgs"
    ],
    "Chapter Twelve: The Mirror of Erised": [
        "Irma Pince", "Ron's grandfather", "Harry's relatives"
    ],
    "Chapter Thirteen: Nicolas Flamel": [
        "Perenelle Flamel"
    ],
    "Chapter Fourteen: Norbert the Norwegian Ridgeback": [
        "Norbert", "Charlie Weasley's colleagues"
    ],
    "Chapter Fifteen: The Forbidden Forest": [
        "Ronan", "Bane", "Firenze", "Unicorn"
    ],
    "Chapter Sixteen: Through the Trapdoor": [
        "Elfric the Eager", "Hogwarts Giant Squid", "Quirinus Quirrell's second mountain troll"
    ],
    "Chapter Seventeen: The Man with Two Faces": [
        "King's Cross Station guard (wizard)"
    ]
}

persons_ents = {'Cliodna', 'Dudley Dursley', 'Zoo director', 'Newton Scamander', 'Theodore Nott', 'Vernon Dursley',
                'Nearly-Headless Nick', 'Lily Moon', 'Tom', 'Alicia Spinnet', 'Albus Dumbledore', 'Mr Paws',
                'Arsenus Jigger',
                'Dennis', 'Pansy Parkinson', 'Molly Weasley', 'Enid', 'Malcolm', 'Prewett family', 'Oliver Wood',
                "Draco Malfoy's eagle owl", 'Bathilda Bagshot', 'Mr Finnigan', 'Norbert', "Ron's grandfather",
                'Peter Pettigrew',
                'Bloody Baron', 'Narcissa Malfoy', 'Hengist of Woodcroft', 'Mrs Norris', 'Millicent Bulstrode', 'Snowy',
                'Garrick Ollivander', "Dudley's tortoise", 'Mrs Evans', 'Claudius Ptolemy', 'Lisa Turpin',
                'Filius Flitwick',
                "Lee Jordan's tarantula", "Harry's relatives", 'Ginny Weasley', 'Peeves', 'Lord Voldemort', 'Baruffio',
                'Bones family',
                "Quirinus Quirrell's second mountain troll", 'Keeper of the reptile house', 'Draco Malfoy',
                'Paracelsus',
                'Arabella Figg', 'Ronan', 'Fluffy', 'Dean Thomas', 'Violet-cloaked wizard', 'Adalbert Waffling',
                'Griphook',
                'Fat Lady', 'Mr Evans', 'Justin Finch-Fletchley', 'Merlin', 'Lily Potter', 'Argus Filch',
                "Charlie Weasley's colleagues", 'Quirinus Quirrell', 'Blaise Zabini', 'George Weasley',
                'Owner of the Railview Hotel',
                'Circe', 'Emeric the Evil', 'Padma Patil', 'Hermione Granger', 'Madam Malkin', 'Charlie Weasley',
                "King's Cross Station guard (wizard)", 'A gorilla', 'Poppy Pomfrey', 'Phyllida Spore',
                'Morag MacDougal', 'Lee Jordan',
                'Mandy Brocklehurst', 'Unicorn', 'Augusta Longbottom', 'Rolanda Hooch', 'James Potter', 'Lucius Malfoy',
                'Cornelius Fudge', 'Parvati Patil', 'Algie', 'Hannah Abbott', 'Fang', 'Adrian Pucey', 'Lavender Brown',
                "Vernon Dursley's secretary", 'Harry Potter', 'Nicolas Flamel', 'Terry Boot', 'Gregory the Smarmy',
                'Perenelle Flamel',
                'Hogwarts Giant Squid', 'Hogwarts Express conductor', 'Seamus Finnigan', 'Mrs Finnigan',
                'Elfric the Eager', 'Hedwig',
                'Doris Crockford', 'Firenze', 'Emeric Switch', 'Rubeus Hagrid', 'Vincent Crabbe', 'Alberic Grunnion',
                'McKinnon family', 'Dedalus Diggle', 'Ron Weasley', 'Tibbles', 'Minerva McGonagall', 'Severus Snape',
                'Susan Bones',
                "Quirinus Quirrell's first mountain troll", 'Trevor', 'Cuthbert Binns', 'Miranda Goshawk',
                'Arthur Weasley',
                'Morgan le Fay', 'Bertie Bott', 'Marcus Flint', 'Pomona Sprout', 'Percy Weasley', 'Bane',
                'Gellert Grindelwald',
                'Sirius Black', 'Angelina Johnson', 'Fred Weasley', 'Katie Bell', 'Piers Polkiss', "Dudley's parrot",
                'Ted',
                'Petunia Dursley', "King's Cross Station guard", 'Sally-Anne Perks', 'Uric the Oddball',
                'Quentin Trimble',
                'Gringotts Head Goblin', 'Fat Friar', 'Helena Ravenclaw', 'Marge Dursley', 'Gordon', 'Irma Pince',
                'Trolley witch',
                'Miles Bletchley', 'Tufty', 'Terence Higgs', 'Neville Longbottom', 'Cornelius Agrippa', 'Jim McGuffin',
                "Piers Polkiss's mother", 'Rowboat owner', 'Yvonne', 'Sorting Hat', 'Vindictus Viridian', 'Hermes',
                'A boa constrictor', 'Bill Weasley', 'Gregory Goyle'}

processed_ = {'Argus Filch', 'Katie Bell', 'Alicia Spinnet', 'Hermione Granger', 'Lucius Malfoy', 'Rubeus Hagrid',
               'Augusta Longbottom', 'Ronan', "Quirinus Quirrell's first mountain troll", None, 'George Weasley',
               'Cliodna', 'Petunia Dursley', 'A boa constrictor', 'Gringotts Head Goblin', 'Newton Scamander',
               "Dudley's parrot", "Vernon Dursley's secretary", 'Elfric the Eager', 'Sally-Anne Perks', 'Bane',
               'Ginny Weasley', 'Dedalus Diggle', 'Jim McGuffin', 'Alberic Grunnion', 'Mr Paws', 'Terence Higgs',
               'Nicolas Flamel', "King's Cross Station guard (wizard)", 'Lord Voldemort', 'Enid', 'Severus Snape',
               'Arabella Figg', 'Mrs Norris', "Draco Malfoy's eagle owl", 'Hogwarts Giant Squid', 'Minerva McGonagall',
               'Perenelle Flamel', 'Lisa Turpin', 'Fang', 'Lily Potter', 'Neville Longbottom', 'Padma Patil',
               'Hengist of Woodcroft', 'Trevor', 'Paracelsus', 'Pomona Sprout', 'Griphook', 'Angelina Johnson',
               'Miranda Goshawk', 'Firenze', 'Algie', 'Gellert Grindelwald', 'Norbert', 'Bloody Baron', 'Baruffio',
               'Gordon', 'Snowy', 'Lily Moon', "Harry's relatives", 'Dudley Dursley', 'Bill Weasley',
               'Adalbert Waffling', 'Percy Weasley', 'Parvati Patil', 'Lavender Brown', 'Doris Crockford', 'Tom',
               'Malcolm', 'Gregory Goyle', 'Terry Boot', 'Phyllida Spore', 'Quirinus Quirrell', 'Filius Flitwick',
               'Susan Bones', 'Quentin Trimble', 'Morgan le Fay', "Charlie Weasley's colleagues",
               "Lee Jordan's tarantula", 'Harry Potter', 'Cornelius Agrippa', 'Peeves', 'Ron Weasley', 'Ted',
               'Blaise Zabini', 'Oliver Wood', 'Albus Dumbledore', 'Marcus Flint', 'Hannah Abbott',
               'Hogwarts Express conductor', 'Seamus Finnigan', 'James Potter', 'Merlin', 'Marge Dursley',
               'Fred Weasley', 'Keeper of the reptile house', 'Madam Malkin', 'Dennis', 'Poppy Pomfrey',
               'Arsenus Jigger', 'Cuthbert Binns', 'Helena Ravenclaw', 'Bertie Bott', 'Dean Thomas',
               'Vindictus Viridian', 'Garrick Ollivander', "Dudley's tortoise", 'Rolanda Hooch'}

queries = ["What is the Sorcerer’s Stone?",
           "How does Harry get into Gryffindor?",
           "What does the Mirror of Erised show Harry?",
           "Who helps Harry get past Fluffy?",
           "What happens during Harry’s first Quidditch match?",]

complex_queries = [
    "How do Harry, Ron, and Hermione manage to bypass each of the obstacles guarding the Sorcerer’s Stone?",
    "what role does Fluffy play in the protection system?",
    "Snape’s and Quirrell’s interference Harrys first quidditch match"]

def create_persons_entities():
    entities_set = set()
    for chapter, persons in characters_by_chapter.items():
        entities_set.update(persons)
    return entities_set
